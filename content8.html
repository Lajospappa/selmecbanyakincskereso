<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>8. PONT ‚Äì V√°r ahonnan minden torony l√°tszik</title>

<style>
body {
    font-family: 'Georgia', serif;
    background: url('images/√≥v√°rh√°tt√©r.jpg') center/cover no-repeat fixed;
    color: #f5f5f5;
    padding: 40px;
    margin: 0;
}

.container {
    max-width: 700px;
    margin: auto;
    background: rgba(0,0,0,0.68);
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(0,0,0,0.7);
}

h1 {
    font-size: 32px;
    margin-bottom: 10px;
    text-align: center;
    color: #ffe7a3;
}

p {
    line-height: 1.6;
    font-size: 18px;
    margin-bottom: 14px;
}

.highlight {
    color: #ffe7a3;
    font-weight: bold;
}

h2 {
    color: #ffe7a3;
    text-align: center;
    margin-top: 28px;
    margin-bottom: 10px;
}

.photo {
    display: block;
    max-width: 100%;
    border-radius: 10px;
    margin: 18px auto;
    box-shadow: 0 0 18px rgba(0,0,0,0.7);
}

.navbtn {
    display:inline-block;
    margin: 8px 0 10px 0;
    padding: 8px 14px;
    background:#68c7ff;
    color:#033048;
    font-weight:bold;
    font-size:14px;
    border-radius:7px;
    text-decoration:none;
    box-shadow:0 0 8px rgba(0,0,0,0.4);
}

.distance-box {
    margin: 8px 0 22px 0;
    padding: 10px 14px;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.08);
    font-size: 16px;
    text-align: center;
}

.distance-box button {
    font-family: inherit;
    font-size: 16px;
    padding: 8px 14px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
    background: #ffe7a3;
    color: #2b1b0c;
    margin-bottom: 6px;
    box-shadow: 0 0 8px rgba(0,0,0,0.5);
}

.distance-status {
    display: block;
    margin-top: 4px;
    font-size: 15px;
}

/* Felolvas√≥ gombok az oldal alj√°n */
.tts-controls {
    margin-top: 40px;
    text-align: center;
}

.tts-controls button {
    margin: 6px;
    padding: 10px 18px;
    background: #ffe7a3;
    color: #2b1b0c;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    font-size: 16px;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    cursor: pointer;
}

.tts-controls button:active {
    transform: scale(0.96);
}

/* F≈ëoldal gomb */
.home-btn {
    display: inline-block;
    margin-top: 25px;
    padding: 10px 20px;
    background: #ffe7a3;
    color: #333;
    font-weight: bold;
    border-radius: 8px;
    text-decoration: none;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    font-size: 16px;
}

.home-wrapper {
    text-align: center;
}

@media (max-width: 480px) {
    body { padding: 20px 10px; }
    .container { padding: 22px 16px; }
    h1 { font-size: 26px; }
    p { font-size: 17px; }
}
</style>
</head>

<body>

<div class="container">

<h1>8. PONT ‚Äì V√°r ahonnan minden torony l√°tszik</h1>

<a href="https://maps.app.goo.gl/PnuYSpeaQuLy6DPv7" target="_blank" class="navbtn">
    üìç Navig√°ci√≥ az √ìv√°r kapuj√°hoz
</a>

<div class="distance-box">
    <button id="distBtn">T√°vols√°g m√©r√©se (GPS)</button>
    <span id="distText" class="distance-status">
        Enged√©lyezd a helymeghat√°roz√°st a b√∂ng√©sz≈ëben, hogy l√°sd, milyen messze vagytok az √ìv√°rt√≥l.
    </span>
</div>

<!-- *************** B≈êVEBB V√ÅRT√ñRT√âNET *************** -->

<p>
K√©pzeld el, ahogy a meredek dombon kapaszkodsz felfel√©, √©s hirtelen el≈ëtted magasodik a v√°ros egyik leg≈ësibb ≈ërz≈ëje: az 
<span class="highlight">√ìv√°r</span>. Nem egyszer≈± k≈ëfalak ezek ‚Äì minden k√∂ve √©vsz√°zadok t√∂rt√©neteit suttogja. A v√°r sz√≠ve 
eredetileg egy <span class="highlight">h√°romhaj√≥s, rom√°n st√≠lus√∫ M√°ria-pl√©b√°niatemplom</span> volt, amelyet a 13. sz√°zad elej√©n 
√©p√≠tettek ide, a hegy oldal√°ba. Akkor m√©g senki sem gondolta, hogy egyszer √°gy√∫kkal, b√°sty√°kkal √©s l≈ër√©sekkel meger≈ës√≠tett 
er≈ëdd√© fog √°talakulni.
</p>

<p>
1443-ban egy nagy f√∂ldreng√©s r√°zta meg a k√∂rny√©ket, a templom pedig s√∫lyosan megrong√°l√≥dott. Az √∫jj√°√©p√≠t√©s nemcsak jav√≠t√°s 
volt: a 15‚Äì16. sz√°zad fordul√≥j√°n a v√°rosvezet≈ëk r√°j√∂ttek, hogy a templomb√≥l <span class="highlight">v√©delmi k√∂zpontot</span> is lehetne 
csin√°lni. A munk√°k sor√°n hozz√°csatolt√°k a k√∂zeli <span class="highlight">Szent Mih√°ly-ossze√°riumot</span> (csontkamr√°t) √©s egy lak√≥tornyot, 
falakat, b√°sty√°kat, l≈ër√©seket √©p√≠tettek. A templom lassan templom-v√°r kever√©kk√© v√°lt.
</p>

<img src="images/ovar 4.jpg" alt="√ìv√°r ‚Äì panor√°ma a v√°ros felett" class="photo">

<p>
A d√∂nt≈ë fordulat a <span class="highlight">t√∂r√∂k h√≥d√≠t√°sok</span> idej√©n j√∂tt el, a moh√°csi csata ut√°n. A Magyar Kir√°lys√°g nagy r√©sze 
vesz√©lybe ker√ºlt, a b√°nyav√°rosok pedig k√ºl√∂n√∂sen fontosak voltak, hiszen az arany, ez√ºst √©s r√©z innen t√∂lt√∂tte fel a kincst√°rat. 
Selmecb√°nya ez√©rt √∫gy d√∂nt√∂tt, hogy az im√©nt fel√∫j√≠tott templomot <span class="highlight">teljesen er≈ëdd√© alak√≠tja</span>: 
a templomhaj√≥k boltozat√°t lebontott√°k, a bels≈ë teret udvarr√° nyitott√°k, a falakat pedig egy emeletnyivel megemelt√©k. 
√çgy sz√ºletett meg a ma l√°that√≥, <span class="highlight">n√©gy sz√°rnyas, bels≈ë udvaros v√°r</span>.
</p>

<p>
√âs most j√∂n a t√∂rt√©netnek az a r√©sze, amin a gyerekek (√©s a feln≈ëttek is) fel szoktak nevetni:  
hi√°ba √©p√≠tettek komoly falakat √©s b√°sty√°kat, az √ìv√°r m√∂g√∂tt magasodik a <span class="highlight">Paradicsom-hegy</span>.  
Ha egy ostroml√≥ sereg feljutott oda, fentr≈ël <em>szinte ‚Äûfel√ºlr≈ël lehetett √°gy√∫zni‚Äù</em> a v√°rat.  
Katonai szempontb√≥l ez finoman sz√≥lva is <span class="highlight">balek d√∂nt√©s</span> volt:  
olyan helyre √©p√≠tettek er≈ëd√∂t, amely f√∂l√© m√©g magasabbr√≥l r√° lehetett l√°tni √©s l≈ëni.  
Szerencs√©re a t√∂r√∂k√∂k sosem vitt√©k itt v√©gig a nagy ostromot, de a helysz√≠nt l√°tva ma is j√≥l l√°tszik, milyen 
kiszolg√°ltatott lett volna a v√°r, ha komoly t√°mad√°s √©ri.
</p>

<img src="images/ovar 2.jpg" alt="√ìv√°r ‚Äì bels≈ë udvar" class="photo">

<p>
Az √ìv√°r alatt √©s k√∂r√ºl ott rejt≈ëzik a <span class="highlight">Szent Mih√°ly-k√°polna</span> √©s a csontkamra is.  
A k√∂z√©pkorban, amikor a templom k√∂r√ºli temet≈ë betelt, a r√©gi csontokat kihantolt√°k, √©s az ossz√°riumba, azaz 
csontt√°rba vitt√©k. A mai gyerekeknek ez egyszerre h√°tborzongat√≥ √©s izgalmas: mintha a m√∫lt n√©ma lak√≥i figyeln√©k 
≈ëket a k≈ëfalak r√©seib≈ël.
</p>

<p>
A 18‚Äì19. sz√°zadt√≥l kezdve a v√°r m√°r nem els≈ësorban katonai c√©lokat szolg√°lt. Volt itt <span class="highlight">v√°rosi lev√©lt√°r</span>, 
<span class="highlight">k√∂nyvt√°r</span>, s≈ët egy id≈ëben <span class="highlight">rend≈ërs√©gi fogda</span> √©s m√©g <span class="highlight">j√©gverem a henteseknek</span> is.  
Ma az √ìv√°r a szlov√°k b√°nyam√∫zeum egyik k√∂zpontja: a ki√°ll√≠t√°sokon r√©gi fegyvereket, √≥raszerkezeteket,  
kov√°csm≈±helyt, barokk szobrokat, harangokat √©s egy apr√≥, de nagyon l√°tv√°nyos <span class="highlight">‚Äûk√≠nz√≥kamr√°t‚Äù</span> is l√°thatunk.  
A falak k√∂z√∂tt s√©t√°lva egyszerre √©rezni templom, v√°r, m√∫zeum √©s szellemv√°ros hangulat√°t ‚Äì mintha a t√∂rt√©nelem 
t√∂bb r√©tege egym√°sra cs√∫szott volna.
</p>

<img src="images/ovar.jpg" alt="√ìv√°r ‚Äì kapu √©s v√©dm≈±vek" class="photo">

<!-- *************** J√ÅT√âK / TORNYOS FELADV√ÅNY *************** -->

<h2>Hol √°lljatok meg?</h2>

<p>
Az √ìv√°rhoz fel√©rve menjetek eg√©szen a <span class="highlight">v√°r kapuj√°ig</span>,  
de ne l√©pjetek m√©g be. <span class="highlight">Ford√≠tsatok h√°tat a kapunak</span>,  
n√©zzetek a v√°ros √©s a t√©r fel√©, √©s √≠gy s√©t√°ljatok el≈ëre a bal  
<span class="highlight">els≈ë kandell√°berig</span>, az els≈ë l√°mpaoszlophoz.  
Ott √°lljatok meg ‚Äì innen kell figyelni a tornyokat.
</p>

<h2>Tornyok, mint rejtett bet≈±k</h2>

<p>
Err≈ël a pontr√≥l n√©zve t√∂bb jellegzetes <span class="highlight">tornyos √©p√ºlet</span> rajzol√≥dik ki a v√°ros felett.  
Mindegyikkel tal√°lkoztatok m√°r az el≈ëz≈ë √°llom√°sokon, de most nem a t√∂rt√©net√ºkre,  
hanem a <span class="highlight">nev√ºk els≈ë bet≈±j√©re</span> lesz sz√ºks√©g.
</p>

<p>Feladat:</p>

<p>
1. Figyelj√©tek meg azokat a tornyos √©p√ºleteket, amelyek a l√°tv√°nyban legink√°bb kiemelkednek err≈ël a pontr√≥l.<br>
2. Figyelj√©tek meg a pontos sorrendet nyugatr√≥l a keleti ir√°ny fel√©, ahogy ezeket az √©p√ºleteket felsorakoznak.<br>
3. Vegy√©tek ezeknek a neveknek csak az <span class="highlight">els≈ë bet≈±j√©t</span> sorrendben.<br>
4. √ñt bet≈±t kell kapnotok ‚Äì ezekb≈ël fogtok majd egy p√°sztorkutya-nevet kirakni.
</p>

<h2>A feladv√°ny</h2>

<p>
Selmecb√°nya k√∂rny√©k√©n r√©gen nem csak b√°ny√°szok √©s di√°kok j√°rtak:  
a felvid√©ki hegyek <span class="highlight">juhny√°jait</span> is ≈ërizni kellett.  
A helyiek szerint az ≈ësi magyar <span class="highlight">feh√©r p√°sztorkuty√°k</span>  
√©pp olyan elsz√°ntan vigy√°zt√°k a ny√°jat, mint ahogy a v√°r≈ër√∂k figyelt√©k a v√∂lgyet.
</p>

<p>
Az √∂t bet≈±t, amit a tornyokb√≥l szereztetek,  
a lenti <span class="highlight">sz√≥rejtv√©ny</span> √ºres helyeire kell elk√©pzelnetek.
</p>

<img src="images/kuvaszok.jpg" alt="Sz√≥rejtv√©ny ‚Äì p√°sztorkutya" class="photo">

<p>
Ha √ºgyesen illesztitek be az √∂t bet≈±t a megfelel≈ë helyekre,  
egy ≈ësi magyar feh√©r p√°sztorkutya neve rajzol√≥dik ki el≈ëttetek ‚Äì  
ugyanaz a fajta, amelyr≈ël azt mes√©lik, hogy a felvid√©ki hegyek juhny√°j√°t is  
√©beren ≈ërizte √©jszaka.
</p>

<p class="highlight" style="font-size:20px; text-align:center; margin-top:25px;">
A 9. pont, a ‚ÄûLuther r√≥zs√°ja‚Äù kapuj√°t<br>
ennek a magyar feh√©r p√°sztorkuty√°nak a neve nyitja.
</p>

<div class="home-wrapper">
    <a href="index.html" class="home-btn">‚¨Ö Vissza a f≈ëoldalra</a>
</div>

</div> <!-- .container v√©ge -->

<!-- ====== FEL OLVAS√ì VEZ√âRL≈êK AZ OLDAL ALJ√ÅN ====== -->
<div class="tts-controls">
    <button onclick="felolvas()">üîä Felolvas√°s</button>
    <button onclick="leallit()">‚õî Stop</button>
</div>

<!-- ================================= -->
<!--   EGYSZER≈∞ TTS + GPS SCRIPT       -->
<!-- ================================= -->
<script>
// ======= EGYSZER≈∞ FELolvas√≥ (play + stop) =======

let currentUtterance = null;

// teljes sz√∂veg begy≈±jt√©se a containerb≈ël
function getFullText() {
    const container = document.querySelector(".container");
    if (!container) return "";
    let text = "";
    container.querySelectorAll("h1, h2, p, li").forEach(el => {
        text += el.innerText + " ";
    });
    return text;
}

function felolvas() {
    // el≈ëz≈ë felolvas√°s le√°ll√≠t√°sa
    window.speechSynthesis.cancel();

    const text = getFullText();
    if (!text.trim()) return;

    currentUtterance = new SpeechSynthesisUtterance(text);
    currentUtterance.lang = "hu-HU";   // magyar nyelv k√©nyszer√≠t√©se, amennyire lehet
    window.speechSynthesis.speak(currentUtterance);
}

function leallit() {
    window.speechSynthesis.cancel();
    currentUtterance = null;
}

// ======= GPS T√ÅVOLS√ÅG =======

// √ìv√°r kapuj√°hoz k√∂zeli pont
const targetLat = 48.459336407159405;
const targetLon = 18.891808326726757;

const distBtn  = document.getElementById("distBtn");
const distText = document.getElementById("distText");

// Haversine-t√°vols√°g m√©terben (jav√≠tott verzi√≥)
function distanceMeters(lat1, lon1, lat2, lon2) {
    const R = 6371000; // F√∂ld sugara m√©terben
    const toRad = x => x * Math.PI / 180;

    const dLat = toRad(lat2 - lat1);
    const dLon = toRad(lon2 - lon1);

    const a =
        Math.sin(dLat / 2) * Math.sin(dLat / 2) +
        Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *
        Math.sin(dLon / 2) * Math.sin(dLon / 2);

    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    return R * c;
}

function formatDistance(m) {
    if (m < 5)  return "Nagyj√°b√≥l az √ìv√°r kapuj√°n√°l vagytok.";
    if (m < 1000) return m.toFixed(0) + " m√©ter";
    return (m / 1000).toFixed(2) + " km";
}

if (distBtn && distText) {
    distBtn.addEventListener("click", function () {
        if (!("geolocation" in navigator)) {
            distText.textContent = "A b√∂ng√©sz≈ë nem t√°mogatja a helymeghat√°roz√°st.";
            return;
        }

        distText.textContent = "Helyzet lek√©r√©se...";

        navigator.geolocation.getCurrentPosition(function (pos) {
            const lat = pos.coords.latitude;
            const lon = pos.coords.longitude;
            const dist = distanceMeters(lat, lon, targetLat, targetLon);
            distText.textContent =
                "Jelenlegi t√°vols√°g az √ìv√°rt√≥l: " + formatDistance(dist);
        }, function () {
            distText.textContent =
                "Nem siker√ºlt lek√©rni a helyzetet. Ellen≈ërizd a GPS √©s a jogosults√°g be√°ll√≠t√°sait.";
        }, {
            enableHighAccuracy: true,
            maximumAge: 5000,
            timeout: 10000
        });
    });
}
</script>

</body>
</html>