<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>Matyi pinc√©je ‚Äì A k√©t szalamandra legend√°ja</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    font-family: 'Georgia', serif;
    background: url('images/oszlop.png') center/cover no-repeat fixed;
    color: #f5f5f5;
    padding: 30px;
    margin: 0;
    text-shadow: 0 1px 3px rgba(0,0,0,0.9);
}

/* csak egy ‚Äûl√°thatatlan‚Äù kont√©ner a max-sz√©less√©g miatt */
.container {
    max-width: 700px;
    margin: auto;
    padding: 5px 5px 30px 5px;
    border-radius: 14px;
}

h1 {
    font-size: 30px;
    margin-bottom: 10px;
    text-align: center;
    color: #ffe7a3;
}

p {
    line-height: 1.6;
    font-size: 18px;
}

.highlight {
    color: #ffe7a3;
    font-weight: bold;
}

/* T√°vols√°g doboz */
.distance-box {
    margin: 15px 0 25px 0;
    padding: 12px 16px;
    border-radius: 8px;
    background: rgba(0, 0, 0, 0.35);
    font-size: 16px;
    text-align: center;
}
.distance-box button {
    font-family: inherit;
    font-size: 16px;
    padding: 8px 14px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
    background: #ffe7a3;
    color: #2b1b0c;
    margin-bottom: 8px;
}
.distance-box button:active {
    transform: scale(0.98);
}
.distance-status {
    display: block;
    margin-top: 4px;
    font-size: 15px;
}

/* gombsor */
.btn-row {
    text-align: center;
    margin-top: 10px;
}

/* Navig√°ci√≥s gomb ‚Äì √©gk√©k, LENT */
.nav-btn {
    display: inline-block;
    margin: 6px 4px;
    padding: 9px 18px;
    background: #68c7ff;
    color: #033048;
    font-weight: bold;
    border-radius: 8px;
    text-decoration: none;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    font-size: 15px;
}
.nav-btn:hover {
    filter: brightness(1.05);
}

/* F≈ëoldal gomb */
.home-btn {
    display: inline-block;
    margin: 8px 4px 0 4px;
    padding: 9px 18px;
    background: #ffd97f;
    color: #333;
    font-weight: bold;
    border-radius: 8px;
    text-decoration: none;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    font-size: 16px;
}
.home-btn:hover {
    filter: brightness(1.05);
}

/* Mobil finomhangol√°s */
@media (max-width: 480px) {
    body { padding: 15px; }
    .container { padding: 10px 5px 24px 5px; }
    h1 { font-size: 26px; }
    p { font-size: 17px; }
}
</style>
</head>

<body>

<div class="container">

<h1>Matyi pinc√©je</h1>

<!-- T√ÅVOLS√ÅGM√âR√âS -->
<div class="distance-box">
    <button id="startNavBtn">T√°vols√°g m√©r√©se (GPS)</button>
    <span id="distanceText" class="distance-status">
        Enged√©lyezd a helymeghat√°roz√°st a b√∂ng√©sz≈ëben.
    </span>
</div>

<p>Ahogy kil√©ptek a Glanzenberg m√©ly√©nek suttog√≥ t√∂rt√©neteib≈ël, most bel√©ptek a 
<span class="highlight">Re≈°taur√°cia Matej</span> meleg, otthonos illat√°ba, ahol a te√°k √©s k√°v√©k p√°r√°ja √∫gy kavarog, mintha maga a hegy mes√©lne tov√°bb.  
A selmeci √∂regek szerint nagyon r√©gen, amikor a v√°ros m√©g csak p√°r fah√°zb√≥l √©s egy lelkes b√°ny√°szcsapatb√≥l √°llt, egy k√ºl√∂n√∂s √©jszak√°n a hegy gyomra megmozdult.  
A f√∂ld finoman megremegett, mintha valami ‚Äì vagy valakik ‚Äì √©bredezn√©nek odalent.</p>

<p>A b√°ny√°szok azt hitt√©k, √∫j √©rcerekre bukkannak, de helyette k√©t titokzatos l√©ny bukkant el≈ë a m√©lys√©gb≈ël: karcs√∫, f√©nyl≈ë test≈± teremtm√©nyek, amelyek √∫gy csillogtak a f√°klyaf√©nyben, mintha a hegy t√ºze rajtuk pihent volna.</p>

<p>A v√°rosban gyorsan elterjedt a h√≠r, hogy ezek a l√©nyek a f√∂ld alatti vil√°g ≈ërei, akik csak ritk√°n mutatkoznak, √©s mindig valami fontos v√°ltoz√°s el≈ëtt.  
A lak√≥k tisztelet√ºk jel√©√ºl k√©s≈ëbb t√∂bb helyen is meg√∂r√∂k√≠tett√©k ≈ëket, de a legfelt≈±n≈ëbb √©s legszebb √°br√°zol√°s √©ppen itt, Matyi pinc√©j√©nek k√∂zel√©ben l√°that√≥:</p>


<p><span class="highlight">egy oszlop oldal√°n k√©t hatalmas, sz√≠nes mozaikb√≥l kirakott teremtm√©ny k√∫szik felfel√©.</span>  
Aki itt meg√°ll egy pillanatra, mintha m√©g most is hallan√° a hegy m√©ly√©nek csendes morajl√°s√°t.</p>

<p style="margin-top:25px;" class="highlight">
A k√∂vetkez≈ë p√°lya titkos nyit√≥k√≥dja pedig egyszer≈±:<br>
annak a neve, amit az oszlopon l√°ttok.
</p>

<p style="text-align:center; margin-top:15px; font-style:italic;">
(A legend√°k szerint ≈ëk sosem t√©vednek el‚Ä¶ ti se tegy√©tek.)
</p>

<!-- NAVIG√ÅCI√ì GOMB ‚Äì LENT, K√âKEN -->
<div class="btn-row">
    <a href="https://maps.app.goo.gl/Pf5SjLUB84LBm3YAA"
       target="_blank"
       class="nav-btn">
       üìç √ötvonal a Re≈°taur√°cia Matejhez
    </a>
</div>

<!-- F≈êOLDAL GOMB -->
<div class="btn-row">
    <a href="index.html" class="home-btn">
       ‚¨Ö F≈ëoldal
    </a>
</div>

</div>

<script>
// Matyi pinc√©je ‚Äì t√°vols√°gm√©r√©s c√©lpontja
const targetLat = 48.45847681075344;
const targetLon = 18.896295422685196;

const startBtn = document.getElementById("startNavBtn");
const distanceText = document.getElementById("distanceText");
let watchId = null;

// Haversine t√°vols√°g m√©terben
function distanceMeters(lat1, lon1, lat2, lon2) {
    const R = 6371000;
    const toRad = x => x * Math.PI / 180;
    const dLat = toRad(lat2 - lat1);
    const dLon = toRad(lon2 - lon1);
    const a =
        Math.sin(dLat / 2) * Math.sin(dLat / 2) +
        Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *
        Math.sin(dLon / 2) * Math.sin(dLon / 2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    return R * c;
}

function formatDistance(m) {
    if (m < 5) return "Nagyj√°b√≥l a vend√©gl≈ën√©l vagytok.";
    if (m < 1000) return m.toFixed(0) + " m√©ter";
    return (m / 1000).toFixed(2) + " km";
}

function onPosition(pos) {
    const lat = pos.coords.latitude;
    const lon = pos.coords.longitude;
    const dist = distanceMeters(lat, lon, targetLat, targetLon);
    distanceText.textContent =
        "Jelenlegi t√°vols√°g a vend√©gl≈ët≈ël: " + formatDistance(dist);
}

function onError(err) {
    distanceText.textContent =
        "Nem siker√ºlt lek√©rni a helyzetet. Ellen≈ërizd a GPS √©s a jogosults√°g be√°ll√≠t√°sait.";
}

startBtn.addEventListener("click", function () {
    if (!("geolocation" in navigator)) {
        distanceText.textContent =
            "A b√∂ng√©sz≈ë nem t√°mogatja a helymeghat√°roz√°st.";
        return;
    }

    if (watchId !== null) {
        navigator.geolocation.clearWatch(watchId);
        watchId = null;
        distanceText.textContent = "A t√°vols√°gm√©r√©s sz√ºnetel.";
        startBtn.textContent = "T√°vols√°g m√©r√©se (GPS)";
        return;
    }

    distanceText.textContent = "Helyzet lek√©r√©se...";
    startBtn.textContent = "M√©r√©s le√°ll√≠t√°sa";

    watchId = navigator.geolocation.watchPosition(onPosition, onError, {
        enableHighAccuracy: true,
        maximumAge: 5000,
        timeout: 10000
    });
});
</script>

</body>
</html>
